!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.yetanotherstore=t()}(this,function(){"use strict";class e{constructor(e=!0){this._events={},this._enabled=e,this._eventIndex={}}disableEvents(){this._enabled=!1}enableEvents(){this._enabled=!0}on(e,t){if("function"==typeof t){e in this._events||(this._events[e]=[]);let n=this._generateEventId();return this._eventIndex[n]={eventName:e,callback:t},this._events[e].push(n),n}return console.warn("The callback must be of type Function"),null}emit(e,t=[]){if(this._enabled&&e in this._events&&this._events[e].length>0){const n=this._events[e];for(let e=0;e<n.length;e+=1)this._eventIndex[n[e]].callback(...t)}}delete(e){if(!(e in this._eventIndex))return void console.log(`No event of id ${e}.`);let t=this._events[this._eventIndex[e].eventName],n=t.indexOf(e);-1!==n&&t.splice(n,1)}_generateEventId(e=8){let t="";for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=0;s<e;s++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}}let t={};return new class extends e{constructor(){super()}set(e,n){let s={key:e,value:n,previousValue:t[e]};t[e]=n,this.emit("valueSet",[s])}get(e){return t[e]}delete(e){e in t&&(argObj={key:e,value:value},delete t[e],this.emit("valueDeleted",[argObj]))}has(e){return e in t}reset(){t={},this.emit("reseted",[])}keys(){return Object.keys(t)}}});
