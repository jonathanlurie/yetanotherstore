!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.yetanotherstore=t()}(this,function(){"use strict";class e{constructor(e=!0){this._events={},this._enabled=e,this._eventIndex={}}disableEvents(){this._enabled=!1}enableEvents(){this._enabled=!0}on(e,t){if("function"==typeof t){e in this._events||(this._events[e]=[]);let s=this._generateEventId();return this._eventIndex[s]={eventName:e,callback:t},this._events[e].push(s),s}return console.warn("The callback must be of type Function"),null}emit(e,t=[]){if(this._enabled&&e in this._events&&this._events[e].length>0){const s=this._events[e];for(let e=0;e<s.length;e+=1)this._eventIndex[s[e]].callback(...t)}}delete(e){if(!(e in this._eventIndex))return void console.log(`No event of id ${e}.`);let t=this._events[this._eventIndex[e].eventName],s=t.indexOf(e);-1!==s&&t.splice(s,1)}_generateEventId(e=8){let t="";for(var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=s.charAt(Math.floor(Math.random()*s.length));return t}}return class extends e{constructor(){super(),this._storage={}}set(e,t){let s={key:e,value:t,previousValue:this._storage[e]};this._storage[e]=t,this.emit("valueSet",[s])}get(e){return this._storage[e]}delete(e){e in this._storage&&(argObj={key:e,value:value},delete this._storage[e],this.emit("valueDeleted",[argObj]))}has(e){return e in this._storage}reset(){this._storage={},this.emit("reseted",[])}keys(){return Object.keys(this._storage)}}});
